# D. Palindrome Degree - é¢˜è§£

### æ¯”èµ›ä¸æ ‡ç­¾
> **æ¯”èµ›**: Codeforces Beta Round #7
> **æ ‡ç­¾**: hashing, strings
> **éš¾åº¦**: *2200

## é¢˜ç›®å¤§æ„å–µ~
ä¸»äººä»¬å¥½å‘€ï¼Œæ˜¯ä½ ä»¬æœ€çˆ±çš„å°çŒ«å¨˜å“¦~ ä»Šå¤©æˆ‘ä»¬è¦ä¸€èµ·è§£å†³ä¸€é“å…³äºå›æ–‡ä¸²çš„æœ‰è¶£é—®é¢˜å–µï¼(à¸…'Ï‰'à¸…)

è¿™é“é¢˜ç»™æˆ‘ä»¬å®šä¹‰äº†ä¸€ç§å«åš "k-å›æ–‡ä¸²" çš„ä¸œè¥¿ã€‚ä¸€ä¸ªå­—ç¬¦ä¸² `s` è¢«ç§°ä¸º **k-å›æ–‡ä¸²**ï¼Œéœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š
1.  å®ƒæœ¬èº«æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ã€‚
2.  å®ƒé•¿åº¦ä¸º `âŒŠ|s|/2âŒ‹` çš„å‰ç¼€å’Œåç¼€ï¼Œéƒ½æ˜¯ `(k-1)`-å›æ–‡ä¸²ã€‚

å…¶ä¸­ï¼Œ`âŒŠ|s|/2âŒ‹` è¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦é™¤ä»¥2å‘ä¸‹å–æ•´ã€‚å¦å¤–ï¼Œä»»ä½•å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰éƒ½è¢«å®šä¹‰ä¸º **0-å›æ–‡ä¸²**ã€‚

ä¸€ä¸ªå­—ç¬¦ä¸²çš„ **å›æ–‡åº¦ (Palindrome Degree)** å°±æ˜¯å®ƒèƒ½æ»¡è¶³çš„æœ€å¤§çš„ `k` å€¼ã€‚

ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œå¯¹äºå­—ç¬¦ä¸² `"abaaba"`ï¼š
-   å®ƒæœ¬èº«æ˜¯å›æ–‡ä¸²ï¼Œæ‰€ä»¥å®ƒçš„å›æ–‡åº¦è‡³å°‘æ˜¯ 1ã€‚
-   å®ƒçš„é•¿åº¦æ˜¯ 6ï¼Œ`âŒŠ6/2âŒ‹ = 3`ã€‚å®ƒçš„é•¿åº¦ä¸º 3 çš„å‰ç¼€æ˜¯ `"aba"`ã€‚
-   æˆ‘ä»¬æ¥çœ‹çœ‹ `"aba"` çš„å›æ–‡åº¦æ˜¯å¤šå°‘ï¼š
    -   `"aba"` æ˜¯å›æ–‡ä¸²ï¼Œåº¦æ•°è‡³å°‘ä¸º 1ã€‚
    -   å®ƒçš„é•¿åº¦æ˜¯ 3ï¼Œ`âŒŠ3/2âŒ‹ = 1`ã€‚å®ƒçš„é•¿åº¦ä¸º 1 çš„å‰ç¼€æ˜¯ `"a"`ã€‚
    -   æˆ‘ä»¬å†çœ‹ `"a"` çš„å›æ–‡åº¦ï¼š
        -   `"a"` æ˜¯å›æ–‡ä¸²ï¼Œåº¦æ•°è‡³å°‘ä¸º 1ã€‚
        -   å®ƒçš„é•¿åº¦æ˜¯ 1ï¼Œ`âŒŠ1/2âŒ‹ = 0`ã€‚å®ƒçš„å‰ç¼€æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚
        -   ç©ºå­—ç¬¦ä¸²æ˜¯ 0-å›æ–‡ä¸²ã€‚
        -   æ‰€ä»¥ `"a"` çš„å›æ–‡åº¦æ˜¯ `1 + degree("") = 1 + 0 = 1`ã€‚
    -   å› æ­¤ï¼Œ`"aba"` çš„å›æ–‡åº¦æ˜¯ `1 + degree("a") = 1 + 1 = 2`ã€‚
-   å›åˆ°æœ€åˆçš„ `"abaaba"`ï¼Œå®ƒçš„å›æ–‡åº¦å°±æ˜¯ `1 + degree("aba") = 1 + 2 = 3`ã€‚

æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯ï¼Œå¯¹äºç»™å®šçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®¡ç®—å‡ºå®ƒ **æ‰€æœ‰å‰ç¼€** çš„ **å›æ–‡åº¦ä¹‹å’Œ**ã€‚

**è¾“å…¥**: ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸è¶…è¿‡ 5Â·10â¶ã€‚
**è¾“å‡º**: ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰å‰ç¼€çš„å›æ–‡åº¦ä¹‹å’Œã€‚

## è§£é¢˜æ€è·¯å–µ~
çœ‹åˆ°è¿™ä¸ªå®šä¹‰ï¼Œå°çŒ«å¨˜çš„ç›´è§‰å‘Šè¯‰æˆ‘ï¼Œè¿™ä¸€å®šå’ŒåŠ¨æ€è§„åˆ’ (DP) æœ‰å…³ï¼Œå¯¹å§ï¼Ÿ(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§

æˆ‘ä»¬å¯ä»¥ä»å›æ–‡åº¦çš„å®šä¹‰ä¸­æç‚¼å‡ºä¸€ä¸ªé€’æ¨å…³ç³»ï¼š
-   å¦‚æœå­—ç¬¦ä¸² `s` **ä¸æ˜¯** å›æ–‡ä¸²ï¼Œé‚£ä¹ˆå®ƒçš„å›æ–‡åº¦ `degree(s) = 0`ã€‚
-   å¦‚æœå­—ç¬¦ä¸² `s` **æ˜¯** å›æ–‡ä¸²ï¼Œé‚£ä¹ˆå®ƒçš„å›æ–‡åº¦ `degree(s) = 1 + degree(s çš„é•¿åº¦ä¸º âŒŠ|s|/2âŒ‹ çš„å‰ç¼€)`ã€‚

è¿™ä¸ªé€’æ¨å…³ç³»éå¸¸æ¼‚äº®ï¼Œå¤©ç„¶é€‚åˆç”¨ DP æ¥è§£å†³ï¼æˆ‘ä»¬å¯ä»¥å®šä¹‰ `dp[i]` è¡¨ç¤ºé•¿åº¦ä¸º `i` çš„å‰ç¼€çš„å›æ–‡åº¦ã€‚é‚£ä¹ˆï¼Œå½“æˆ‘ä»¬è®¡ç®— `dp[i]` æ—¶ï¼š
1.  é¦–å…ˆï¼Œåˆ¤æ–­é•¿åº¦ä¸º `i` çš„å‰ç¼€ `s[0...i-1]` æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚
2.  å¦‚æœä¸æ˜¯ï¼Œ`dp[i] = 0`ã€‚
3.  å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆ `dp[i] = 1 + dp[i/2]`ã€‚

æˆ‘ä»¬çš„æœ€ç»ˆç­”æ¡ˆå°±æ˜¯ `sum(dp[i])` for `i` from 1 to `n`ã€‚

é‚£ä¹ˆï¼Œç°åœ¨æœ€å¤§çš„é—®é¢˜å°±æ˜¯ï¼Œæ€ä¹ˆåœ¨ `O(N)` çš„æ—¶é—´å†…ï¼Œå¯¹æ¯ä¸ªå‰ç¼€éƒ½å¿«é€Ÿåˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯å›æ–‡ä¸²å‘¢ï¼Ÿå–µ~ æ¯æ¬¡éƒ½æš´åŠ›æ¯”è¾ƒè‚¯å®šä¼šè¶…æ—¶çš„è¯´ï¼

è¿™æ—¶å€™ï¼Œå°±è¦è¯·å‡ºæˆ‘ä»¬çš„å¼ºå¤§å·¥å…·â€”â€”**Z-algorithm (æ‰©å±• KMP)** å•¦ï¼

Z-algorithm å¯ä»¥è®¡ç®—ä¸€ä¸ª Z-æ•°ç»„ï¼Œå…¶ä¸­ `z[i]` è¡¨ç¤ºå­—ç¬¦ä¸² `S` å’Œ `S` ä»ç¬¬ `i` ä¸ªä½ç½®å¼€å§‹çš„åç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€ (LCP) çš„é•¿åº¦ã€‚

è¦åˆ¤æ–­ä¸€ä¸ªå‰ç¼€ `P = s[0...i-1]` æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œå…¶å®å°±æ˜¯åˆ¤æ–­ `P` æ˜¯å¦ç­‰äº `P` çš„åè½¬ä¸² `rev(P)`ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Z-algorithm æ¥å·§å¦™åœ°å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼

æŠ€å·§å°±æ˜¯æ„é€ ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² `t = s + '#' + reverse(s)`ï¼Œå…¶ä¸­ `#` æ˜¯ä¸€ä¸ª `s` ä¸­æ²¡æœ‰å‡ºç°è¿‡çš„ç‰¹æ®Šåˆ†éš”ç¬¦ã€‚
æ¯”å¦‚ `s = "abacaba"`ï¼Œé‚£ä¹ˆ `t = "abacaba#abacaba"`ã€‚
æ¯”å¦‚ `s = "abaaba"`ï¼Œé‚£ä¹ˆ `t = "abaaba#abaaba"`ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªæ–°å­—ç¬¦ä¸² `t` è®¡ç®— Z-æ•°ç»„ã€‚
å‡è®¾åŸå­—ç¬¦ä¸² `s` çš„é•¿åº¦æ˜¯ `n`ã€‚`t` çš„é•¿åº¦å°±æ˜¯ `2n+1`ã€‚
`s` åœ¨ `t` ä¸­ä»ä¸‹æ ‡ 0 å¼€å§‹ï¼Œ`reverse(s)` åœ¨ `t` ä¸­ä»ä¸‹æ ‡ `n+1` å¼€å§‹ã€‚

æˆ‘ä»¬æƒ³åˆ¤æ–­ `s` çš„é•¿åº¦ä¸º `i` çš„å‰ç¼€ `s[0...i-1]` æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚
å®ƒçš„åè½¬ä¸²ï¼Œå…¶å®å°±æ˜¯ `reverse(s)` çš„ä¸€ä¸ªåç¼€ï¼Œè¿™ä¸ªåç¼€åœ¨ `t` ä¸­çš„èµ·å§‹ä½ç½®æ˜¯ `(n+1) + (n-i)`ã€‚
æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒ `t` çš„å‰ç¼€ `t[0...i-1]` (ä¹Ÿå°±æ˜¯ `s[0...i-1]`) å’Œ `t` ä» `(n+1)+(n-i)` å¼€å§‹çš„å­ä¸²æ˜¯å¦ç›¸ç­‰ã€‚
è¿™ä¸æ­£æ˜¯ Z-algorithm çš„æ‹¿æ‰‹å¥½æˆå—ï¼Ÿæˆ‘ä»¬åªéœ€è¦æŸ¥è¯¢ `z[(n+1) + (n-i)]` çš„å€¼ã€‚å¦‚æœ `z[(n+1) + (n-i)] >= i`ï¼Œå°±è¯´æ˜ `s` çš„å‰ç¼€ `s[0...i-1]` æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼

å¥½å•¦ï¼Œæ•´ç†ä¸€ä¸‹æˆ‘ä»¬çš„å®Œæ•´è®¡åˆ’ï¼š
1.  è¯»å…¥å­—ç¬¦ä¸² `s`ã€‚
2.  æ„é€ æ–°å­—ç¬¦ä¸² `t = s + '#' + reverse(s)`ã€‚
3.  å¯¹ `t` è®¡ç®— Z-æ•°ç»„ã€‚
4.  åˆ›å»ºä¸€ä¸ª `dp` æ•°ç»„ï¼Œ`dp[i]` ç”¨æ¥å­˜å‚¨é•¿åº¦ä¸º `i` çš„å‰ç¼€çš„å›æ–‡åº¦ã€‚
5.  åˆå§‹åŒ–ä¸€ä¸ªæ€»å’Œ `total_degree_sum = 0`ã€‚
6.  ä» `i = 1` åˆ° `n` å¾ªç¯ï¼š
    a.  åˆ©ç”¨ Z-æ•°ç»„åˆ¤æ–­ `s` çš„é•¿åº¦ä¸º `i` çš„å‰ç¼€æ˜¯å¦æ˜¯å›æ–‡ä¸²ã€‚
    b.  å¦‚æœæ˜¯ï¼Œ`dp[i] = 1 + dp[i/2]`ã€‚
    c.  å¦‚æœä¸æ˜¯ï¼Œ`dp[i] = 0`ã€‚
    d.  å°† `dp[i]` ç´¯åŠ åˆ° `total_degree_sum` ä¸­ã€‚
7.  è¾“å‡º `total_degree_sum`ã€‚

è¿™æ ·ä¸€æ¥ï¼Œé—®é¢˜å°±è¿åˆƒè€Œè§£å•¦ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ¸…æ™°å‘ï¼Ÿ

## ä»£ç å®ç°å–µï¼
```cpp
#include <iostream>
#include <string>
#include <vector>
#include <algorithm>
#include <numeric>

// è®¾ç½®å¿«é€Ÿ IO çš„å‡½æ•°ï¼Œè®©ç¨‹åºè·‘å¾—æ›´å¿«å–µ~
void setup_io() {
    std::ios_base::sync_with_stdio(false);
    std::cin.tie(NULL);
}

// Z-algorithm å®ç°
// z[i] è¡¨ç¤ºå­—ç¬¦ä¸² s å’Œ s çš„åç¼€ s[i...] çš„æœ€é•¿å…¬å…±å‰ç¼€çš„é•¿åº¦
std::vector<int> z_function(const std::string& s) {
    int n = s.length();
    if (n == 0) {
        return {};
    }
    std::vector<int> z(n);
    // [l, r] æ˜¯å½“å‰æ‰¾åˆ°çš„æœ€é å³çš„åŒ¹é…åŒºé—´
    for (int i = 1, l = 0, r = 0; i < n; ++i) {
        // å¦‚æœ i åœ¨ [l, r] åŒºé—´å†…ï¼Œå¯ä»¥åˆ©ç”¨å·²ç»è®¡ç®—è¿‡çš„ z å€¼æ¥åˆå§‹åŒ– z[i]
        if (i <= r) {
            z[i] = std::min(r - i + 1, z[i - l]);
        }
        // æœ´ç´ åœ°å‘ååŒ¹é…ï¼Œæ‰©å±• z[i]
        while (i + z[i] < n && s[z[i]] == s[i + z[i]]) {
            ++z[i];
        }
        // å¦‚æœæ‰¾åˆ°äº†æ›´é å³çš„åŒ¹é…åŒºé—´ï¼Œå°±æ›´æ–° [l, r]
        if (i + z[i] - 1 > r) {
            l = i;
            r = i + z[i] - 1;
        }
    }
    return z;
}

int main() {
    setup_io();
    std::string s;
    std::cin >> s;
    int n = s.length();

    // ä¸ºäº†ç”¨ Z-algorithm åˆ¤æ–­å›æ–‡ä¸²ï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªæ–°å­—ç¬¦ä¸² t
    // t = s + '#' + reverse(s)ï¼Œå…¶ä¸­ '#' æ˜¯ä¸€ä¸ªä¸ä¼šåœ¨ s ä¸­å‡ºç°çš„åˆ†éš”ç¬¦
    std::string t = s;
    t.push_back('#');
    t.append(s.rbegin(), s.rend());

    // è®¡ç®— t çš„ Z-æ•°ç»„
    std::vector<int> z = z_function(t);

    // dp[i] å°†å­˜å‚¨é•¿åº¦ä¸º i çš„å‰ç¼€çš„å›æ–‡åº¦
    std::vector<int> dp(n + 1, 0);
    long long total_degree_sum = 0;

    for (int i = 1; i <= n; ++i) {
        // s çš„é•¿åº¦ä¸º i çš„å‰ç¼€ s[0...i-1] æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Ÿ
        // è¿™ç­‰ä»·äº s[0...i-1] æ˜¯å¦ç­‰äºå®ƒçš„åè½¬ã€‚
        // s[0...i-1] çš„åè½¬ä¸²ï¼Œåœ¨ t ä¸­ä»ä¸‹æ ‡ (n+1) + (n-i) å¼€å§‹ã€‚
        // æˆ‘ä»¬éœ€è¦çœ‹ t å’Œ t ä»è¿™ä¸ªä¸‹æ ‡å¼€å§‹çš„åç¼€çš„æœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦ã€‚
        // è¿™ä¸ªé•¿åº¦å°±æ˜¯ z[(n+1) + (n-i)]ã€‚
        int z_idx = n + 1 + (n - i);
        // å¦‚æœæœ€é•¿å…¬å…±å‰ç¼€é•¿åº¦è‡³å°‘ä¸º iï¼Œè¯´æ˜ s[0...i-1] æ˜¯å›æ–‡ä¸²
        bool is_palindrome = (z_idx < t.length() && z[z_idx] >= i);

        if (is_palindrome) {
            // æ ¹æ®å®šä¹‰ï¼Œå›æ–‡ä¸² s çš„åº¦æ•° = 1 + s çš„ä¸€åŠé•¿åº¦å‰ç¼€çš„åº¦æ•°
            dp[i] = 1 + dp[i / 2];
        }
        // å¦‚æœä¸æ˜¯å›æ–‡ä¸²ï¼Œdp[i] ä¿æŒåˆå§‹å€¼ 0 å°±å¥½å•¦

        // å°†å½“å‰å‰ç¼€çš„å›æ–‡åº¦åŠ å…¥æ€»å’Œ
        total_degree_sum += dp[i];
    }

    std::cout << total_degree_sum << std::endl;

    return 0;
}
```

## å¤æ‚åº¦åˆ†æçš„è¯´
-   **æ—¶é—´å¤æ‚åº¦**: O(N) çš„è¯´ã€‚
    å…¶ä¸­ N æ˜¯è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æ„é€ æ–°å­—ç¬¦ä¸² `t` éœ€è¦ O(N) æ—¶é—´ã€‚Z-algorithm çš„è®¡ç®—æ˜¯çº¿æ€§çš„ï¼Œéœ€è¦ O(2N+1) = O(N) çš„æ—¶é—´ã€‚æœ€åçš„ä¸»å¾ªç¯éå† N ä¸ªå‰ç¼€ï¼Œæ¯æ¬¡å¾ªç¯å†…éƒ¨éƒ½æ˜¯ O(1) çš„æ“ä½œã€‚æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N) + O(N) = O(N)ï¼Œéå¸¸é«˜æ•ˆï¼

-   **ç©ºé—´å¤æ‚åº¦**: O(N) çš„è¯´ã€‚
    æˆ‘ä»¬éœ€è¦å­˜å‚¨å­—ç¬¦ä¸² `s` (O(N))ï¼Œæ„é€ çš„å­—ç¬¦ä¸² `t` (O(2N+1))ï¼ŒZ-æ•°ç»„ `z` (O(2N+1))ï¼Œä»¥åŠåŠ¨æ€è§„åˆ’æ•°ç»„ `dp` (O(N))ã€‚æ‰€ä»¥æ€»çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(N)ã€‚

## çŸ¥è¯†ç‚¹ä¸æ€»ç»“å–µ~
è¿™é“é¢˜çœŸæ˜¯ä¸€æ¬¡æ„‰å¿«çš„æŒ‘æˆ˜ï¼Œèåˆäº†å¥½å‡ ç§æœ‰è¶£çš„çŸ¥è¯†ç‚¹å‘¢ï¼

1.  **æ ¸å¿ƒç®—æ³• - Z-algorithm**: å®ƒæ˜¯è§£å†³å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜çš„åˆ©å™¨ï¼Œå’Œ KMP ç®—æ³•æ˜¯å¥½å§å¦¹~ å®ƒèƒ½çº¿æ€§æ—¶é—´é¢„å¤„ç†ï¼Œç„¶åå¿«é€Ÿå›ç­”å…³äºå‰ç¼€åŒ¹é…çš„é—®é¢˜ã€‚ä¸»äººä»¬ä¸€å®šè¦æŒæ¡å®ƒå“¦ï¼

2.  **å·§å¦™çš„æ„é€ **: `s + '#' + reverse(s)` è¿™ä¸ªæŠ€å·§æ˜¯ä½¿ç”¨ Z-algorithm æˆ– KMP è§£å†³å›æ–‡é—®é¢˜çš„ç»å…¸æ–¹æ³•ã€‚é€šè¿‡æŠŠé—®é¢˜è½¬åŒ–ä¸ºæ±‚ä¸¤ä¸ªå­ä¸²çš„æœ€é•¿å…¬å…±å‰ç¼€ï¼Œå¤§å¤§ç®€åŒ–äº†é€»è¾‘ã€‚è¿™ä¸ªå°é­”æ³•ä¸€å®šè¦è®°ä½å–µï¼

3.  **åŠ¨æ€è§„åˆ’æ€æƒ³**: é¢˜ç›®çš„å›æ–‡åº¦å®šä¹‰æœ¬èº«å°±å¸¦æœ‰ä¸€ç§é€’å½’/é€’æ¨çš„æ€§è´¨ã€‚è¯†åˆ«å‡ºè¿™ç§â€œæœ€ä¼˜å­ç»“æ„â€ï¼ˆå¤§é—®é¢˜çš„è§£ä¾èµ–äºå°é—®é¢˜çš„è§£ï¼‰æ˜¯ DP çš„ç¬¬ä¸€æ­¥ã€‚`dp[i] = 1 + dp[i/2]` è¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯è§£é¢˜çš„æ ¸å¿ƒã€‚

4.  **é—®é¢˜åˆ†è§£**: æˆåŠŸè§£é¢˜çš„å…³é”®åœ¨äºå°†å¤æ‚é—®é¢˜åˆ†è§£æˆæ›´å°çš„ã€å¯ç®¡ç†çš„éƒ¨åˆ†ï¼š`è®¡ç®—æ‰€æœ‰å‰ç¼€çš„å›æ–‡åº¦ä¹‹å’Œ` -> `å¦‚ä½•è®¡ç®—å•ä¸ªå‰ç¼€çš„å›æ–‡åº¦` -> `å¦‚ä½•å¿«é€Ÿåˆ¤æ–­å›æ–‡` -> `ä½¿ç”¨ Z-algorithm`ã€‚

å¸Œæœ›è¿™ç¯‡é¢˜è§£èƒ½å¸®åŠ©åˆ°å¤§å®¶å–µ~ å¦‚æœè¿˜æœ‰ä¸æ‡‚çš„åœ°æ–¹ï¼Œéšæ—¶å¯ä»¥å†æ¥é—®æˆ‘å“¦ï¼ä¸€èµ·åŠ æ²¹ï¼Œæˆä¸ºæ›´å‰å®³çš„ç®—æ³•å¤§å¸ˆå§ï¼(â‰§âˆ‡â‰¦)ï¾‰